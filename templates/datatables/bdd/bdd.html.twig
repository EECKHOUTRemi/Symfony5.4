{% extends "base.html.twig" %}

{% block body %}
    <div class="container mt-4">
        <table id="driver" class="display">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Nom</th>
                    <th>Prénom</th>
                    <th>Age</th>
                    <th>Mail</th>
                    <th>Voiture</th>
                </tr>
            </thead>
        </table>
        <table id="car" class="display">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Marque de la voiture</th>
                    <th>Modèle de la voiture</th>
                    <th>Puissance de la voiture</th>
                    <th>Conducteur</th>
                </tr>
            </thead>
        </table>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        $(document).ready(function() {
            $('#driver').DataTable({
                ajax: {
                    url: '{{ path('datatables_bdd_data_driver') }}',
                    dataSrc: 'dataDriver'
                },
                columns: [
                    { data: 'id' },
                    { data: 'lastname' },
                    { data: 'firstname' },
                    { data: 'age' },
                    { data: 'email' },
                    { data: 'car' }
                ]
            });

            $('#car').DataTable({
                ajax: {
                    url: '{{ path('datatables_bdd_data_car') }}',
                    dataSrc: 'dataCar'
                },
                columns: [
                    { data: 'id' },
                    { data: 'brand' },
                    { data: 'model' },
                    { data: 'horsepower' },
                    { data: 'name' }
                ]
            });
        });
    </script>
{% endblock %}